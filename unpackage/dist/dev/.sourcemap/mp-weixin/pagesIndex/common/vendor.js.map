{"version":3,"sources":["uni-app:///pagesIndex/components/rechText.js"],"names":["graceRichTextReg","GRT","module","exports","format","html","replace","word","i","RegExp","indexOf","regIn","length"],"mappings":"0GACA,IAAIA,EAGAC,EAAM,CAEN,CAAC,MAAO,oBAER,CAAC,KAAM,qCAEP,CAAC,KAAM,qCAEP,CAAC,KAAM,qCAEP,CAAC,KAAM,qCAEP,CAAC,KAAM,mCAEP,CAAC,KAAM,qCAEP,CAAC,IAAK,mCAEN,CAAC,IAAK,mCAEN,CAAC,SAAU,mCAEX,CAAC,OAAQ,oFAET,CAAC,MAAO,6BAER,CAAC,aAAc,yHAEf,CAAC,KAAM,wDACP,CAAC,KAAM,4FAEP,CAAC,QAAS,4EACV,CAAC,KAAM,oEACP,CAAC,KAAM,uFAIXC,EAAOC,QAAU,CACbC,OAAS,SAASC,GACdA,EAAOA,EAAKC,QAAQ,sBAAkB,SAASC,GAG3C,OAFAA,EAAQA,EAAKD,QAAQ,SAAS,UAC9BC,EAAQA,EAAKD,QAAQ,SAAS,2CACvBC,EAAKD,QAAQ,SAAU,8CAElCD,EAAOA,EAAKC,QAAQ,SAAU,iIAC9BD,EAAOA,EAAKC,QAAQ,WAAW,OAC/B,IADsC,eAC9BE,GACJR,EAAmB,IAAIS,OAAO,IAAIR,EAAIO,GAAG,GAAG,MAAMP,EAAIO,GAAG,GAAG,UAAW,MACvEH,EAAOA,EAAKC,QAAQN,GAAmB,SAASO,GAE5C,IAA8B,GAA3BA,EAAKG,QAAQ,UAAgB,CAC5B,IAAIC,EAAQ,IAAIF,OAAO,IAAMR,EAAIO,GAAG,GAAK,+BAAgC,MACzE,OAAOD,EAAKD,QAAQK,EAAO,IAAKV,EAAIO,GAAG,GAAI,eAAiBP,EAAIO,GAAG,GAAI,UAEnEG,EAAQ,IAAIF,OAAO,IAAMR,EAAIO,GAAG,GAAK,aAAc,MACvD,OAAOD,EAAKD,QAAQK,EAAO,IAAKV,EAAIO,GAAG,GAAI,aAAeP,EAAIO,GAAG,GAAI,YATzEA,EAAI,EAAGA,EAAIP,EAAIW,OAAQJ,IAAI,EAA3BA,GAaR,OAAOH","file":"pagesIndex/common/vendor.js","sourcesContent":["// 正则变量\nvar graceRichTextReg;\n\n// 批量替换的样式 [ 根据项目需求自行设置 ]\nvar GRT = [\n    // div 样式\n    ['div', \"line-height:2em;\"],\n    // h1 样式\n    ['h1', \"font-size:3em; line-height:1.5em;\"],\n    // h2 样式\n    ['h2', \"font-size:2em; line-height:1.8em;\"],\t\n    // h3 样式\n    ['h3', \"font-size:1.6em; line-height:2em;\"],\n    // h4 样式\n    ['h4', \"font-size:1.2em; line-height:2em;\"],\n    // h5 样式\n    ['h5', \"font-size:1em; line-height:2em;\"],\n    // h6 样式\n    ['h6', \"font-size:0.9em; line-height:2em;\"],\n    // p 样式\n    ['p', \"font-size:1em; line-height:2em;\"],\n    // b 样式\n    ['b', \"font-size:1em; line-height:2em;\"],\n    // strong 样式\n    ['strong', \"font-size:1em; line-height:2em;\"],\n    // code 样式\n    ['code', \"font-size:1em; line-height:1.2em; background:#F6F7F8; padding:8px 2%; width:96%;\"],\n    // img 样式\n    ['img', \"width:100%; margin:8px 0;\"],\n    // blockquote\n    ['blockquote', \"font-size:1em; border-left:3px solid #D1D1D1; line-height:2em; border-radius:5px; background:#F6F7F8; padding:8px 2%;\"],\n    // li 样式\n    ['ul', \"padding:5px 0; list-style:none; padding:0; margin:0;\"],\n    ['li', \"line-height:1.5em; padding:5px 0; list-style:none; padding:0; margin:0; margin-top:10px;\"],\n    // table\n    ['table', \"width:100%; border-left:1px solid #F2F3F4; border-top:1px solid #F2F3F4;\"],\n    ['th', \"border-right:1px solid #F2F3F4; border-bottom:1px solid #F2F3F4;\"],\n    ['td', \"border-right:1px solid #F2F3F4; border-bottom:1px solid #F2F3F4; padding-left:5px;\"]\n];\n\n\nmodule.exports = {\n    format : function(html){\n        html = html.replace(/<pre.*pre>?/gis, function(word){\n            word =  word.replace(/[\\n]/gi,'<br />');\n            word =  word.replace(/    /gi,'<span style=\"padding-left:2em;\"></span>');\n            return word.replace(/[\\t]/gi, '<span style=\"padding-left:2em;\"></span>');\n        });\n        html = html.replace(/<pre/gi, '<p style=\"font-size:1em; margin:12px 0; line-height:1.2em; background:#F6F7F8; border-radius:5px; padding:8px 4%; width:92%;\"');\n        html = html.replace(/<\\/pre/gi,\"</p\");\n        for(let i = 0; i < GRT.length; i++){\n            graceRichTextReg = new RegExp('<'+GRT[i][0]+'>|<'+GRT[i][0]+' (.*?)>', 'gi');\n            html = html.replace(graceRichTextReg , function(word){\n                // 分析 dom 上是否带有 style=\"\"\n                if(word.indexOf('style=') != -1){\n                    var regIn = new RegExp('<' + GRT[i][0] + '(.*?)style=\"(.*?)\"(.*?)(/?)>', 'gi');\n                    return word.replace(regIn, '<'+ GRT[i][0] +'$1style=\"$2 ' + GRT[i][1] +'\"$3$4>');\n                }else{\n                    var regIn = new RegExp('<' + GRT[i][0] + '(.*?)(/?)>', 'gi');\n                    return word.replace(regIn, '<'+ GRT[i][0] +'$1 style=\"' + GRT[i][1] +'$2\">');\n                }\n            });\n        }\n        return html;\n    }\n}"],"sourceRoot":""}